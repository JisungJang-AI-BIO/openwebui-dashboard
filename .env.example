# ═══════════════════════════════════════════════════════════════
# Open WebUI + Dashboard - Unified Environment Configuration
# ═══════════════════════════════════════════════════════════════
# Usage: cp .env.example .env && chmod 600 .env
# WARNING: Never commit .env to version control
# WARNING: Do NOT use quotes around values

# ═══════════════════════════════════════════════════════════════
# DATABASE (shared PostgreSQL + pgvector on Docker network)
# ═══════════════════════════════════════════════════════════════
DB_USER=webui_user
DB_PASSWORD=REPLACE_DB_PASSWORD
DB_NAME=webui
DB_HOST=webui-db
DB_PORT=5432

# Open WebUI uses these (full connection string)
DATABASE_URL=postgresql://webui_user:REPLACE_DB_PASSWORD@webui-db:5432/webui
PGVECTOR_DB_URL=postgresql://webui_user:REPLACE_DB_PASSWORD@webui-db:5432/webui
VECTOR_DB=pgvector

# ═══════════════════════════════════════════════════════════════
# OPEN WEBUI - SSO / OAUTH (OKTA OIDC)
# ═══════════════════════════════════════════════════════════════
WEBUI_URL=https://openwebui.sbiologics.com

OPENID_PROVIDER_URL=https://auth.sbiologics.com/realms/sbiologics/.well-known/openid-configuration
OAUTH_CLIENT_ID=0oa19pyte2lcvbEWY2p8
# OAUTH_CLIENT_SECRET=REPLACE_WITH_PRODUCTION_SECRET
OPENID_REDIRECT_URI=https://openwebui.sbiologics.com/oauth/oidc/callback
OAUTH_PROVIDER_NAME=OKTA SSO
OAUTH_SCOPES=openid email profile roles

ENABLE_OAUTH_SIGNUP=true
ENABLE_LOGIN_FORM=true
ENABLE_OAUTH_PERSISTENT_CONFIG=false

# ═══════════════════════════════════════════════════════════════
# OPEN WEBUI - ACCOUNT / ROLE MAPPING
# ═══════════════════════════════════════════════════════════════
OAUTH_MERGE_ACCOUNTS_BY_EMAIL=true
ENABLE_OAUTH_ROLE_MANAGEMENT=false
OAUTH_ROLES_CLAIM=roles
OAUTH_ADMIN_ROLES=admin
OAUTH_USER_ROLES=user

# ═══════════════════════════════════════════════════════════════
# OPEN WEBUI - APPLICATION
# ═══════════════════════════════════════════════════════════════
# WEBUI_SECRET_KEY=REPLACE_ME
# Generate with: openssl rand -hex 32
NO_PROXY=localhost,127.0.0.1,0.0.0.0
GLOBAL_LOG_LEVEL=DEBUG

# ═══════════════════════════════════════════════════════════════
# PORT MAPPING (host:container)
# ═══════════════════════════════════════════════════════════════
OPENWEBUI_PORT=10085
DASHBOARD_BACKEND_PORT=10086
DASHBOARD_FRONTEND_PORT=10087

# ═══════════════════════════════════════════════════════════════
# DASHBOARD
# ═══════════════════════════════════════════════════════════════
# "mock" for dev (X-Auth-User header), "sso" for production
DASHBOARD_AUTH_MODE=mock
DASHBOARD_ADMIN_USERS=jisung.jang
